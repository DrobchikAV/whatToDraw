{% extends 'base.html' %}

{% block title %}
–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–≤–æ—Ä—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è
{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-12">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="text-center mb-5">
            <h1 class="display-4 fw-bold text-gradient mb-3">
                <i class="bi me-2"></i>–ì–æ—Ç–æ–≤—ã –ø—Ä–∏–Ω—è—Ç—å –≤—ã–∑–æ–≤?
            </h1>
            <p class="lead text-muted mb-4">
                –ü–æ–ª—É—á–∏—Ç–µ —Å–ª—É—á–∞–π–Ω—ã–π —Ü–≤–µ—Ç, —Å–ª—É—á–∞–π–Ω–æ–µ —Å–ª–æ–≤–æ –∏ —Å–ª—É—á–∞–π–Ω–æ–µ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–≤–æ–µ–≥–æ –Ω–æ–≤–æ–≥–æ —Ç–≤–æ—Ä–µ–Ω–∏—è
            </p>
        </div>

        <!-- –¢—Ä–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ —Ä—è–¥ -->
        <div class="row g-4 mb-5">
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ 1: –¶–≤–µ—Ç -->
            <div class="col-md-4">
                <div class="card h-100 border-0">
                    <div class="card-body text-center p-4 d-flex flex-column">
                        <div class="mb-4">
                            <h3 class="card-title mb-3">
                                <i class="bi bi-palette-fill me-2 text-primary"></i>–°–ª—É—á–∞–π–Ω—ã–π —Ü–≤–µ—Ç
                            </h3>
                            <!-- –ë–æ–ª—å—à–æ–π –∫–≤–∞–¥—Ä–∞—Ç —Ü–≤–µ—Ç–∞ -->
                            <div class="color-display mx-auto mb-3 fade-in"
                                 id="colorDisplay"
                                 style="width: 140px; height: 140px; background-color: {{ color.hex }}; border-radius: 12px;">
                            </div>
                            <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –∏ HEX -->
                            <h4 class="mb-2" id="colorName">{{ color.name }}</h4>
                            <div class="d-flex justify-content-center align-items-center mb-4">
                                <code class="fs-5 fw-bold me-3" id="colorHex">{{ color.hex }}</code>
                                <button class="btn btn-sm btn-outline-primary" id="colorCopyBtn" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ü–≤–µ—Ç">
                                    <i class="bi bi-clipboard"></i>
                                </button>
                            </div>
                        </div>
                        <!-- –ö–Ω–æ–ø–∫–∞ –Ω–æ–≤–æ–≥–æ —Ü–≤–µ—Ç–∞ —Å mt-auto -->
                        <div class="mt-auto">
                            <button class="btn btn-primary w-100" id="newColorBtn">
                                <i class="bi bi-arrow-clockwise me-2"></i>–ù–æ–≤—ã–π —Ü–≤–µ—Ç
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ 2: –°–ª–æ–≤–æ -->
            <div class="col-md-4">
                <div class="card h-100 border-0">
                    <div class="card-body text-center p-4 d-flex flex-column justify-content-between">
                        <div>
                            <h3 class="card-title mb-4">
                                <i class="bi bi-chat-square-text-fill me-2 text-success"></i>–°–ª—É—á–∞–π–Ω–æ–µ —Å–ª–æ–≤–æ
                            </h3>

                            <!-- –ë–æ–ª—å—à–æ–µ —Å–ª–æ–≤–æ -->
                            <div class="word-display mb-4" style="height: 140px; display: flex; align-items: center; justify-content: center;">
                                <h2 class="display-5 fw-bold text-dark fade-in" id="randomWord">{{ word }}</h2>
                            </div>
                        </div>

                        <!-- –ö–Ω–æ–ø–∫–∞ –Ω–æ–≤–æ–≥–æ —Å–ª–æ–≤–∞ -->
                        <button class="btn btn-success w-100" id="newWordBtn">
                            <i class="bi bi-arrow-clockwise me-2"></i>–ù–æ–≤–æ–µ —Å–ª–æ–≤–æ
                        </button>
                    </div>
                </div>
            </div>

            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ 3: –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ -->
            <div class="col-md-4">
                <div class="card h-100 border-0">
                    <div class="card-body p-4 d-flex flex-column">
                        <div>
                            <h3 class="card-title mb-3">
                                <i class="bi bi-lightning-charge-fill me-2 text-warning"></i>–°–ª—É—á–∞–π–Ω–æ–µ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ
                            </h3>

                            <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏—è -->
                            <div class="mb-3 text-center">
                                {% if challenge.category == '–í—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ' %}
                                <span class="category-badge time-category" id="challengeCategory">‚è±Ô∏è {{ challenge.category }}</span>
                                {% elif challenge.category == '–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å' %}
                                <span class="category-badge style-category" id="challengeCategory">üé≠ {{ challenge.category }}</span>
                                {% elif challenge.category == '–ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ä–∏—Å—É–Ω–∫–∞' %}
                                <span class="category-badge composition-category" id="challengeCategory">üìê {{ challenge.category }}</span>
                                {% else %}
                                <span class="category-badge bg-secondary" id="challengeCategory">{{ challenge.category }}</span>
                                {% endif %}
                            </div>

                            <!-- –ù–∞–∑–≤–∞–Ω–∏–µ —É—Å–ª–æ–∂–Ω–µ–Ω–∏—è -->
                            <h4 class="mb-3 text-center" id="challengeName">{{ challenge.name }}</h4>

                            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –∏–ª–∏ —Ç–∞–π–º–µ—Ä–∞ -->
                            <div id="challengeContent" class="mb-4">
                                {% if challenge.category == '–í—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ' %}
                                <!-- –¢–∞–π–º–µ—Ä –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π -->
                                <div class="timer-container text-center">
                                    <div class="timer-display mb-3">
                                        <div class="display-4 fw-bold text-dark" id="timerDisplay">00:00</div>
                                    </div>
                                    <div class="timer-controls">
                                        <button class="btn btn-sm btn-danger me-2" id="startPauseTimerBtn">
                                            <i class="bi bi-play-fill"></i> –°—Ç–∞—Ä—Ç
                                        </button>
                                        <button class="btn btn-sm btn-outline-secondary" id="resetTimerBtn">
                                            <i class="bi bi-arrow-clockwise"></i> –°–±—Ä–æ—Å
                                        </button>
                                    </div>
                                    <!-- –°–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ -->
                                    <input type="hidden" id="timeDescription" value="{{ challenge.description }}">
                                </div>
                                {% else %}
                                <!-- –û–±—ã—á–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –¥—Ä—É–≥–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
                                <p class="text-muted fade-in" id="challengeDescription">{{ challenge.description }}</p>
                                {% endif %}
                            </div>
                        </div>

                        <!-- –ö–Ω–æ–ø–∫–∞ –Ω–æ–≤–æ–≥–æ —É—Å–ª–æ–∂–Ω–µ–Ω–∏—è -->
                        <button class="btn btn-warning w-100 mt-auto" id="newChallengeBtn">
                            <i class="bi bi-arrow-clockwise me-2"></i>–ù–æ–≤–æ–µ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—Å–µ–≥–æ -->
        <div class="text-center mb-5">
            <button class="btn btn-lg gradient-bg text-white px-5 py-3" id="newAllBtn">
                <i class="bi bi-shuffle me-2"></i>–ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—É—é –∫–æ–º–±–∏–Ω–∞—Ü–∏—é
            </button>
        </div>

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <div class="card border-0">
            <div class="card-body text-center p-4">
                <h4 class="mb-3"><i class="bi bi-info-circle me-2"></i>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?</h4>
                <p class="text-muted mb-0">
                    –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ü–≤–µ—Ç, —Å–ª–æ–≤–æ –∏ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –∫–∞–∫ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –¥–ª—è —Ç–≤–æ—Ä—á–µ—Å–∫–æ–π —Ä–∞–±–æ—Ç—ã.
                    –ù–∞–ø—Ä–∏–º–µ—Ä: —Å–æ–∑–¥–∞–π—Ç–µ —Ä–∏—Å—É–Ω–æ–∫ –≤ —Å—Ç–∏–ª–µ "<span class="fw-bold">–†–µ–∞–ª–∏–∑–º</span>"
                    —Å —Ü–≤–µ—Ç–æ–º "<span class="fw-bold">–ë–∏—Ä—é–∑–æ–≤—ã–π</span>"
                    –Ω–∞ —Ç–µ–º—É "<span class="fw-bold">–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ</span>"
                    –∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è.
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}